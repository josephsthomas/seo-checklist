{
  "package": 5,
  "total": 53,
  "verified_fixed": 42,
  "not_fixed": 0,
  "partially_fixed": 0,
  "fixed_now": 0,
  "legitimately_skipped": 8,
  "design_decision": 2,
  "feature_request": 1,
  "invalid": 0,
  "details": {
    "VERIFIED_FIXED": [
      {"bug_id": "R03-211", "evidence": "Line 43: Error message now reads 'AI suggestions are not available. Please contact your administrator to enable this feature.' - no env var names exposed."},
      {"bug_id": "R07-C-001", "evidence": "Lines 346-362: extractJSON function now uses balanced brace matching (depth counter) instead of greedy regex. Properly finds first complete JSON object."},
      {"bug_id": "R07-C-002", "evidence": "Lines 142-143: suggestViolationFix return now includes aiGenerated: true and disclaimer: 'This suggestion was generated by AI and should be reviewed by an accessibility specialist before implementation.'"},
      {"bug_id": "R07-C-015", "evidence": "Line 96: truncate() helper added. Lines 108-116: All user-controlled inputs (name, help, htmlElement, selector, url) are truncated to safe lengths (200-500 chars) before prompt interpolation."},
      {"bug_id": "R09-A-007", "evidence": "Lines 27-29: In production (import.meta.env.PROD), direct API key usage now throws an error with message 'Direct API key usage is not allowed in production. Configure VITE_AI_PROXY_URL instead.'"},
      {"bug_id": "R06-101", "evidence": "Lines 112-131: useEffect dynamically sets document.title, meta description, og:title, og:description, og:type, twitter:card, twitter:title, twitter:description when shared analysis data loads."},
      {"bug_id": "R06-105", "evidence": "Heading hierarchy is now correct: h1 at line 195 ('AI Readability Report'), h2 elements for sections (AI Visibility Summary, Category Breakdown, How AI Models See This Content, Top Recommendations, About This Report). Error state uses h2 but is in a mutually exclusive conditional branch."},
      {"bug_id": "R07-B-001", "evidence": "Line 335: AIDisclaimerInline component added to the LLM Coverage section with toolName='AI Readability Checker'."},
      {"bug_id": "R07-B-012", "evidence": "The getGradeFromScore function in ShareView (lines 39-49) is consistent with the same function in ReadabilityCategoryChart.jsx and ReadabilityCategoryAccordion.jsx. This is a deliberate alternative grading that includes finer granularity (A-, C-) compared to gradeMapper.js."},
      {"bug_id": "R09-B-011", "evidence": "Line 103: logError() called with context {action: 'exportPDF'}. Line 104: setExportError sets user-facing message. Lines 408-409: exportError displayed in UI."},
      {"bug_id": "R10-B-016", "evidence": "Lines 99-104: setExportError('PDF export failed. Please try again.') on catch. Lines 408-409: Error message rendered as red text paragraph visible to user."},
      {"bug_id": "R11-B-006", "evidence": "Lines 31-37: CATEGORY_META now uses correct taxonomy keys: contentStructure, contentClarity, technicalAccess, metadataSchema, aiSignals - matching ReadabilityWeightConfig."},
      {"bug_id": "R06-200", "evidence": "Lines 490-492: generateHtmlCode now outputs og:image meta tag when metadata.ogImage is present."},
      {"bug_id": "R06-201", "evidence": "Lines 504-506: generateHtmlCode now outputs twitter:image meta tag when metadata.twitterImage is present."},
      {"bug_id": "R06-202", "evidence": "No meta keywords tag found in the current generateHtmlCode function. The deprecated tag has been removed."},
      {"bug_id": "R06-216", "evidence": "Lines 401-405: truncateAtWord function added, finds lastIndexOf(' ') to avoid mid-word truncation. Used for static title fallback at line 420."},
      {"bug_id": "R07-C-004", "evidence": "Lines 214-218: Text truncation now finds last sentence boundary ('. ') within the 15000-char window when text exceeds limit, preserving sentence integrity."},
      {"bug_id": "R07-C-005", "evidence": "Lines 369-370: AI-generated metaTitle truncated to 70 chars, metaDescription to 170 chars as safety bounds on output."},
      {"bug_id": "R09-A-017", "evidence": "Line 127: PDF.js worker now loaded via self-hosted path using new URL('pdfjs-dist/build/pdf.worker.min.mjs', import.meta.url).toString() instead of external CDN."},
      {"bug_id": "R09-A-008", "evidence": "Line 25: chunkSizeWarningLimit set to 500 (Vite default), down from 600KB."},
      {"bug_id": "R09-A-015", "evidence": "Line 24: sourcemap: 'hidden' explicitly configured for production builds."},
      {"bug_id": "R09-A-016", "evidence": "Line 20: jszip separated into its own chunk 'vendor-jszip'. No longer grouped with readability-specific libraries."},
      {"bug_id": "R09-B-007", "evidence": "Line 25: chunkSizeWarningLimit now at 500KB (Vite default), not above it."},
      {"bug_id": "R09-C-008", "evidence": "Line 25: chunkSizeWarningLimit now at 500KB (Vite default), not 600KB."},
      {"bug_id": "R11-A-002", "evidence": "Lines 406-419: glossaryCategories now includes all 11 categories matching terms: Fundamentals, On-Page SEO, Technical SEO, Content Strategy, Content Quality, Performance, Off-Page SEO, Link Building, Metrics, SERP Features, International SEO."},
      {"bug_id": "R11-A-009", "evidence": "Line 210: Title Tag example now reads '<title>Best Running Shoes - Expert Reviews & Buying Guide</title>' with year removed entirely."},
      {"bug_id": "R11-B-001", "evidence": "Lines 406-419: glossaryCategories array expanded to include all categories used by terms (SERP Features, Link Building, Content Quality added)."},
      {"bug_id": "R11-C-001", "evidence": "Lines 406-419: glossaryCategories now matches the full set of categories assigned to glossary terms."},
      {"bug_id": "R01-009", "evidence": "Lines 255-263: Static SCORE_CLASSES and TREND_CLASSES maps replace dynamic Tailwind class interpolation. Classes like bg-emerald-100, text-emerald-600, etc. are now statically defined for JIT compatibility."},
      {"bug_id": "R01-010", "evidence": "Lines 814-839: checkConflicts is defined in component body and called inside useEffect. The eslint-disable comment remains but deps array correctly lists [formData.time, formData.frequency, formData.url] which are the actual reactive values used by checkConflicts."},
      {"bug_id": "R03-006", "evidence": "Lines 725-733: Delete confirmation text changed to 'You'll have 5 seconds to undo' - accurate since undo functionality exists via toast (lines 188-203). Previous 'cannot be undone' was incorrect."},
      {"bug_id": "R03-008", "evidence": "Line 375: Stats label changed from 'Pages Scanned' to 'Pages Audited', consistent with audit terminology used elsewhere."},
      {"bug_id": "R03-009", "evidence": "Line 888: Close button now has aria-label='Close audit schedule form' for screen reader accessibility."},
      {"bug_id": "R01-103", "evidence": "Line 58: sortedData computation now wrapped in React.useMemo() with correct dependencies [data, sortCol, sortDir]."},
      {"bug_id": "R03-102", "evidence": "Line 40: Column header changed from 'Time' to 'Response Time' for clarity."},
      {"bug_id": "R03-103", "evidence": "Line 38: Column header changed from 'Entities %' to 'Named Entities' with title attribute explaining 'Named entity recognition coverage (people, places, organizations)'."},
      {"bug_id": "R04-104", "evidence": "Lines 35-41: Column headers now use consistent descriptive naming without % suffixes: 'AI Model', 'Content Coverage', 'Headings Coverage', 'Named Entities', 'Usefulness', 'Response Time'."},
      {"bug_id": "R05-103", "evidence": "Lines 90-94: Sortable th elements now have tabIndex={0}, role='button', and onKeyDown handler supporting Enter and Space keys."},
      {"bug_id": "R05-105", "evidence": "Line 80: Table element now has aria-label='AI model coverage comparison' for screen reader identification."},
      {"bug_id": "R01-203", "evidence": "Lines 450-452: AbortController created before setState(FETCHING). Line 468: fetchUrlViaProxy uses local controller.signal variable, avoiding race condition with ref."},
      {"bug_id": "R03-206", "evidence": "Line 60: Error message changed to 'URL analysis is not available. Please contact your administrator to enable this feature.' - no env var names exposed."},
      {"bug_id": "R03-207", "evidence": "Lines 85-90: HTTP error codes mapped to user-friendly messages (404: 'Page not found', 403: 'Access denied', 429: 'Rate limit reached'). Lines 509-513: Network errors mapped to friendly messages in analyzeUrl."}
    ],
    "FIXED_NOW": [],
    "NOT_FIXED": [],
    "PARTIALLY_FIXED": [],
    "LEGITIMATELY_SKIPPED": [
      {"bug_id": "R07-C-003", "reason": "Issue has been resolved in current code. The generateCompliancePlan prompt (line 230) now explicitly instructs 'Do NOT provide specific timelines, percentages, or numeric estimates' and uses qualitative descriptions. Return value (line 252) includes disclaimer about AI-generated estimates. Skip was justified as the fix was already implemented."},
      {"bug_id": "R09-A-014", "reason": "Vite includes content hashes in output filenames by default for all JS chunks, CSS files, and assets in production builds. The default naming pattern includes [hash] segments. No additional configuration is needed. The skip was correct."},
      {"bug_id": "R09-C-015", "reason": "Issue no longer exists. The old vendor-readability chunk grouping htmlparser2/franc/jszip has been removed. Current manualChunks (lines 14-21) properly separate: exceljs, jspdf, firebase, react, and jszip into their own chunks. htmlparser2/franc use Vite default chunking."},
      {"bug_id": "R11-A-003", "reason": "Issue has been largely resolved. The glossary was expanded from 30 to 50 terms (ids 1-50), adding many previously-missing referenced terms like Anchor Text, Bounce Rate, Content Audit, Content Pruning, CLS, INP, etc. Cross-references now point to existing entries."},
      {"bug_id": "R11-C-002", "reason": "Issue has been resolved. The Title Tag example (id 26, line 210) no longer contains a year reference. Changed from 'Best Running Shoes 2024 - Reviews & Buying Guide' to 'Best Running Shoes - Expert Reviews & Buying Guide'."},
      {"bug_id": "R10-A-014", "reason": "Issue has been resolved. The advanceStep function (lines 800-811) now validates all intermediate steps before allowing forward navigation. Step indicators call advanceStep which enforces validation for step 1 (name, URL, categories required) before proceeding."},
      {"bug_id": "R05-212", "reason": "The hook provides progress.message and progress.stage state for UI consumers. The consuming UI components (ReadabilityProcessingScreen.jsx line 157-158, ReadabilityPage.jsx line 228) already implement aria-live='polite' regions. ARIA announcements are correctly handled at the UI layer, not the hook layer."},
      {"bug_id": "R08-C-015", "reason": "Issue has been resolved. The enforceStorageLimit function (lines 194-197) now returns the count of deleted documents, and the caller (lines 352-354) shows a toast notification: '${deletedCount} oldest analyses removed to stay within storage limit.' Users are informed before/after deletion."}
    ],
    "DESIGN_DECISION": [
      {"bug_id": "R07-C-006", "reason": "Multiple AI services intentionally use different Claude model versions. The readability module (aiAnalyzer.js, llmPreview.js) uses claude-sonnet-4-5-20250929 while other services (aiSuggestionService, metaGeneratorService, imageAltService, suggestionService, schemaGeneratorService) use claude-sonnet-4-20250514. Different services may have different model requirements (e.g., readability analysis benefits from newer model capabilities). Centralizing would need to account for per-service model selection, adding complexity without clear benefit."},
      {"bug_id": "R04-202", "reason": "The hook exports both granular states (FETCHING, EXTRACTING, ANALYZING, SCORING) and simplified boolean helpers (isIdle, isAnalyzing, isComplete, isError) at lines 646-649. The granular states serve the progress bar UI (ReadabilityProcessingScreen) which shows step-by-step progress, while the boolean helpers serve simpler consumers. This dual API is intentional and serves different UI needs."}
    ],
    "FEATURE_REQUEST": [
      {"bug_id": "R11-A-015", "reason": "The glossary was expanded from 30 to 50 terms, a 67% increase. Reaching 80-100+ terms as suggested would require significant content creation effort covering WCAG accessibility, schema markup, readability metrics, and other specialized domains. This is a content expansion task, not a code defect."}
    ],
    "INVALID": []
  }
}
