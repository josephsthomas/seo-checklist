[
  {
    "bug_id": "R06-200",
    "severity": "HIGH",
    "category": "Social Cards",
    "component": "metaGeneratorService",
    "file_line": "src/lib/meta-generator/metaGeneratorService.js:467",
    "description": "Generated OG meta tags missing og:image property - the generateHtmlCode function never outputs og:image even though the metadata object may contain image data",
    "steps": "1. Call generateHtmlCode with metadata\n2. Inspect generated HTML output\n3. Note og:image tag is never rendered",
    "expected": "og:image meta tag should be included in generated HTML when image data is available",
    "actual": "og:image is completely absent from the generated HTML output",
    "impact": "Social media platforms (Facebook, LinkedIn) will not display a rich image preview when content is shared, significantly reducing click-through rates"
  },
  {
    "bug_id": "R06-201",
    "severity": "MEDIUM",
    "category": "Social Cards",
    "component": "metaGeneratorService",
    "file_line": "src/lib/meta-generator/metaGeneratorService.js:478",
    "description": "Generated Twitter Card meta tags missing twitter:image property - social previews will have no image on Twitter/X",
    "steps": "1. Call generateHtmlCode with metadata containing image data\n2. Inspect generated HTML\n3. Note twitter:image is never rendered",
    "expected": "twitter:image meta tag should be included in generated HTML output",
    "actual": "twitter:image is never output regardless of metadata content",
    "impact": "Twitter/X will not display image previews when content is shared, reducing engagement and click-through rates"
  },
  {
    "bug_id": "R06-202",
    "severity": "MEDIUM",
    "category": "Meta Tag Issue",
    "component": "metaGeneratorService",
    "file_line": "src/lib/meta-generator/metaGeneratorService.js:451",
    "description": "Generated HTML includes deprecated meta keywords tag which is ignored by Google and may signal spam to search engines",
    "steps": "1. Generate metadata with focusKeywords populated\n2. Call generateHtmlCode\n3. Note <meta name=\"keywords\"> tag is generated",
    "expected": "Meta keywords tag should not be generated or should be optional with a deprecation warning",
    "actual": "Meta keywords tag is unconditionally generated when focusKeywords array is non-empty",
    "impact": "Including meta keywords is considered outdated SEO practice; Google has ignored it since 2009 and it may expose keyword strategy to competitors"
  },
  {
    "bug_id": "R06-203",
    "severity": "HIGH",
    "category": "Schema Error",
    "component": "schemaGeneratorService",
    "file_line": "src/lib/schema-generator/schemaGeneratorService.js:489",
    "description": "validateSchema checks @context with string includes('schema.org') which would pass invalid contexts like 'not-schema.org' or 'myschema.org'",
    "steps": "1. Call validateSchema with jsonLd having @context: 'https://not-schema.org'\n2. Observe no error or warning is raised",
    "expected": "Validation should check for exact match 'https://schema.org' as the @context value",
    "actual": "Any string containing 'schema.org' as a substring passes validation (e.g., 'not-schema.org')",
    "impact": "Invalid schema.org @context values pass validation, producing structured data that search engines cannot interpret correctly"
  },
  {
    "bug_id": "R06-204",
    "severity": "MEDIUM",
    "category": "Schema Error",
    "component": "schemaGeneratorService",
    "file_line": "src/lib/schema-generator/schemaGeneratorService.js:508",
    "description": "Schema validation for Article types does not check headline length - Google requires headline to be under 110 characters for rich results eligibility",
    "steps": "1. Create Article schema with headline exceeding 110 characters\n2. Call validateSchema\n3. Observe no warning about headline length",
    "expected": "Validation should warn when Article headline exceeds 110 characters as per Google guidelines",
    "actual": "No headline length validation is performed",
    "impact": "Articles with overly long headlines will fail Google Rich Results Test and lose rich snippet eligibility"
  },
  {
    "bug_id": "R06-205",
    "severity": "LOW",
    "category": "Social Cards",
    "component": "metadataSchema",
    "file_line": "src/lib/readability/checks/metadataSchema.js:55",
    "description": "Twitter Card check only validates 3 tags (card, title, description) but does not check for twitter:image which is required for summary_large_image card type",
    "steps": "1. Parse page with twitter:card set to summary_large_image but no twitter:image\n2. Run checkTwitterCardTags\n3. Observe status may pass with 3/3 tags",
    "expected": "When twitter:card is summary_large_image, twitter:image should be required and validated",
    "actual": "twitter:image is not included in the validation checks",
    "impact": "Pages with summary_large_image card type but no image will render broken previews on Twitter/X"
  },
  {
    "bug_id": "R06-206",
    "severity": "HIGH",
    "category": "Canonical Issue",
    "component": "technicalAccess",
    "file_line": "src/lib/readability/checks/technicalAccess.js:68",
    "description": "checkCanonicalUrl only checks presence of canonical URL but does not validate it is an absolute URL or matches the current page URL pattern",
    "steps": "1. Parse a page with <link rel=\"canonical\" href=\"/relative-path\">\n2. Run checkCanonicalUrl\n3. Observe status is 'pass' despite relative canonical URL",
    "expected": "Canonical URL should be validated as absolute URL (starting with https://) and checked for self-referencing correctness",
    "actual": "Any truthy canonical value passes the check regardless of format or correctness",
    "impact": "Relative canonical URLs are invalid per Google guidelines and will be ignored, leading to duplicate content issues"
  },
  {
    "bug_id": "R06-207",
    "severity": "MEDIUM",
    "category": "Heading Hierarchy",
    "component": "technicalAccess",
    "file_line": "src/lib/readability/checks/technicalAccess.js:119",
    "description": "checkHiddenContent is hardcoded to always return 'pass' status without actually checking for content behind tabs, accordions, or JavaScript interactions",
    "steps": "1. Parse a page with content hidden in accordion/tab elements\n2. Run checkHiddenContent\n3. Observe it always returns 'pass'",
    "expected": "Should detect content within display:none, visibility:hidden, details/summary, tab panels, and accordion elements",
    "actual": "Function returns hardcoded 'pass' with static message, no actual DOM inspection",
    "impact": "Content hidden behind interactions may not be indexed by search engines; this check gives false assurance"
  },
  {
    "bug_id": "R06-208",
    "severity": "MEDIUM",
    "category": "Meta Tag Issue",
    "component": "technicalAccess",
    "file_line": "src/lib/readability/checks/technicalAccess.js:59",
    "description": "checkRobotsTxt always returns 'warn' status regardless of input - both branches of the ternary return 'warn'",
    "steps": "1. Run checkRobotsTxt with any parsedData\n2. Check the status field\n3. Observe status is always 'warn' even when no crawler issues exist",
    "expected": "Status should be 'pass' when no AI-specific meta directives are found",
    "actual": "status: crawlerIssues.length > 0 ? 'warn' : 'warn' - both paths return 'warn'",
    "impact": "Users always see a warning for robots.txt even when no issues exist, causing alert fatigue and undermining trust in the audit results"
  },
  {
    "bug_id": "R06-209",
    "severity": "HIGH",
    "category": "Schema Error",
    "component": "schemaValidator",
    "file_line": "src/lib/readability/utils/schemaValidator.js:6",
    "description": "SCHEMA_FIELDS only covers 7 schema types (Article, NewsArticle, Product, FAQPage, HowTo, Organization, Person) but schemaGeneratorService supports 40+ types - most schema types get no field-level validation",
    "steps": "1. Generate schema for LocalBusiness, Event, Recipe, or any of the 33+ unsupported types\n2. Call scoreSchemaCompleteness\n3. Observe it falls through to basic scoring with no required/recommended field checks",
    "expected": "All schema types supported by schemaGeneratorService should have field-level completeness validation",
    "actual": "33+ schema types (LocalBusiness, Event, Recipe, JobPosting, VideoObject, etc.) have no field-level validation",
    "impact": "Users receive no guidance on missing required properties for most schema types, leading to incomplete structured data that fails Google Rich Results Test"
  },
  {
    "bug_id": "R06-210",
    "severity": "MEDIUM",
    "category": "Heading Hierarchy",
    "component": "contentStructure",
    "file_line": "src/lib/readability/checks/contentStructure.js:148",
    "description": "checkReadingOrder duplicates the exact same heading skip logic already in checkHeadingHierarchy (CS-02) - both check headings[i].level > headings[i-1].level + 1",
    "steps": "1. Parse a page with heading hierarchy issues\n2. Run runContentStructureChecks\n3. Observe CS-02 and CS-09 both flag the same heading skip issues",
    "expected": "CS-09 should check reading order concerns distinct from heading hierarchy (e.g., logical flow, topic coherence)",
    "actual": "CS-09 duplicates CS-02 logic, double-counting the same heading level skip issues",
    "impact": "Same issue is reported twice in audit results, inflating the problem count and confusing users about actual number of distinct SEO issues"
  },
  {
    "bug_id": "R06-211",
    "severity": "LOW",
    "category": "URL Structure",
    "component": "urlValidation",
    "file_line": "src/lib/readability/utils/urlValidation.js:127",
    "description": "urlToSlug function strips query parameters and fragments from URL slug generation but does not normalize trailing slashes, causing different slugs for same page",
    "steps": "1. Call urlToSlug('https://example.com/page/')\n2. Call urlToSlug('https://example.com/page')\n3. Compare outputs - they produce different slugs",
    "expected": "URLs with and without trailing slashes should produce the same slug for the same page",
    "actual": "Trailing slash produces a different slug (e.g., 'example-com-page-' vs 'example-com-page')",
    "impact": "Different slugs for the same canonical page cause confusion in exported report filenames and can lead to duplicate file entries"
  },
  {
    "bug_id": "R06-212",
    "severity": "HIGH",
    "category": "Internal Links",
    "component": "htmlParser",
    "file_line": "src/lib/readability/utils/htmlParser.js:215",
    "description": "extractLinks classifies all links starting with '/' or './' as internal but does not account for protocol-relative URLs ('//') or absolute URLs to the same domain",
    "steps": "1. Parse HTML containing <a href='https://same-domain.com/page'>Link</a>\n2. Check extractLinks output\n3. Observe absolute same-domain links are classified as external",
    "expected": "Links should be classified as internal/external based on the actual target domain, not just the URL prefix pattern",
    "actual": "Only href starting with '/', '#', or './' are marked internal; absolute same-domain URLs and protocol-relative URLs are treated as external",
    "impact": "Internal linking analysis is inaccurate - absolute internal links are counted as external, skewing link equity and site structure reports"
  },
  {
    "bug_id": "R06-213",
    "severity": "MEDIUM",
    "category": "Meta Tag Issue",
    "component": "htmlParser",
    "file_line": "src/lib/readability/utils/htmlParser.js:98",
    "description": "extractMetadata getMeta function uses querySelector with attribute selector that does not handle meta tags where name uses different casing (e.g., name='Description' vs name='description')",
    "steps": "1. Parse HTML containing <meta name='Description' content='test'>\n2. Check metadata.description in output\n3. Observe it returns empty string despite tag being present",
    "expected": "Meta tag extraction should be case-insensitive for the name attribute value",
    "actual": "Only exact case match works (e.g., 'description' finds the tag but 'Description' does not)",
    "impact": "Pages with non-lowercase meta tag names will have their meta descriptions, robots directives, and other tags incorrectly reported as missing"
  },
  {
    "bug_id": "R06-214",
    "severity": "MEDIUM",
    "category": "Internal Links",
    "component": "aiSignals",
    "file_line": "src/lib/readability/checks/aiSignals.js:217",
    "description": "checkInternalLinkContext relies on the flawed isInternal classification from htmlParser which misses absolute same-domain URLs, causing inaccurate internal link audit",
    "steps": "1. Parse a page where internal links use absolute URLs (https://example.com/page)\n2. Run checkInternalLinkContext\n3. Observe it reports 'No internal links found' or undercounts them",
    "expected": "All same-domain links should be recognized and audited as internal links",
    "actual": "Absolute same-domain links are excluded from internal link analysis due to upstream isInternal bug in htmlParser",
    "impact": "AS-10 check gives false 'warn' or 'fail' status for pages that actually have good internal linking via absolute URLs"
  },
  {
    "bug_id": "R06-215",
    "severity": "MEDIUM",
    "category": "Schema Error",
    "component": "schemaGeneratorService",
    "file_line": "src/lib/schema-generator/schemaGeneratorService.js:436",
    "description": "Static FAQPage schema generated with empty mainEntity array which is invalid - Google requires at least one Question in mainEntity for FAQPage rich results",
    "steps": "1. Select FAQPage schema type when AI is unavailable\n2. Call generateSchema to get static suggestion\n3. Inspect generated jsonLd.mainEntity\n4. Observe it is an empty array []",
    "expected": "Static FAQPage schema should include at least a template Question/Answer pair or warn that mainEntity is empty",
    "actual": "mainEntity is set to empty array [], producing invalid FAQPage schema that will fail Google validation",
    "impact": "Users copying the generated FAQPage schema will deploy invalid structured data that produces errors in Google Search Console"
  },
  {
    "bug_id": "R06-216",
    "severity": "LOW",
    "category": "Meta Tag Issue",
    "component": "metaGeneratorService",
    "file_line": "src/lib/meta-generator/metaGeneratorService.js:399",
    "description": "Static meta title fallback uses firstSentence.slice(0, 50) without checking for mid-word truncation, potentially producing broken titles",
    "steps": "1. Extract content from a document with no headings\n2. Observe firstSentence is used as title\n3. Note slice(0, 50) can cut mid-word (e.g., 'Understanding the fundamentals of quantum comput')",
    "expected": "Title truncation should break at word boundaries to produce readable titles",
    "actual": "Hard slice at character 50 can truncate in the middle of a word",
    "impact": "Generated page titles may contain partial words, appearing unprofessional in search results and reducing click-through rates"
  },
  {
    "bug_id": "R06-217",
    "severity": "HIGH",
    "category": "Social Cards",
    "component": "metadataSchema",
    "file_line": "src/lib/readability/checks/metadataSchema.js:34",
    "description": "checkOpenGraphTags does not validate og:type value - Facebook requires og:type to be a valid Open Graph type (article, website, etc.) but any string passes",
    "steps": "1. Parse HTML with <meta property='og:type' content='invalid-type'>\n2. Run checkOpenGraphTags\n3. Observe og:type is counted as present and check passes",
    "expected": "og:type should be validated against known OG types (article, website, product, video.other, etc.)",
    "actual": "Any non-empty og:type value passes validation regardless of whether it is a valid Open Graph type",
    "impact": "Invalid og:type values cause social platforms to misclassify content, affecting how the page is displayed in social feeds"
  }
]
