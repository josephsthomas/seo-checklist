[
  {
    "bug_id": "R02-100",
    "severity": "high",
    "category": "Dark Mode Bug",
    "component": "CookieConsent",
    "file_line": "src/components/shared/CookieConsent.jsx:79",
    "description": "CookieConsent modal lacks all dark mode support. The entire component uses light-only background and text classes with no dark: prefixes.",
    "steps": "1. Enable dark mode via ThemeSwitcher\n2. Trigger the cookie consent banner (clear localStorage cookie preferences)\n3. Observe the cookie consent modal",
    "expected": "Cookie consent modal should adapt to dark theme with dark backgrounds and light text, consistent with other modals in the application.",
    "actual": "Modal renders with bg-white, text-charcoal-900, bg-charcoal-50, and border-charcoal-200 regardless of theme, creating a jarring white rectangle in dark mode.",
    "impact": "Cookie consent is one of the first UI elements users see. A bright white modal in dark mode breaks visual continuity and may cause eye strain."
  },
  {
    "bug_id": "R02-101",
    "severity": "high",
    "category": "Dark Mode Bug",
    "component": "ToolHelpPanel",
    "file_line": "src/components/shared/ToolHelpPanel.jsx:262",
    "description": "ToolHelpPanel slide-in drawer has no dark mode support on the panel body, header gradient, content cards, kbd elements, resource links, or footer.",
    "steps": "1. Enable dark mode\n2. Open the help panel by clicking the help icon on any tool page\n3. Observe the panel background and all sub-elements",
    "expected": "Help panel should use dark backgrounds (e.g., dark:bg-charcoal-800) with light text, and the header gradient should adapt to darker tones.",
    "actual": "Panel renders bg-white (line 262), header uses from-primary-50 to-cyan-50 gradient (line 268), content cards use bg-charcoal-50 (line 299), kbd uses bg-white (line 320), resource links use bg-white (line 344), and footer uses bg-charcoal-50 (line 367) — all without dark: variants.",
    "impact": "Help panel is a frequently accessed feature. Entire panel appears as a bright white overlay in dark mode, severely degrading the dark mode experience."
  },
  {
    "bug_id": "R02-102",
    "severity": "medium",
    "category": "Color Inconsistency",
    "component": "ReadabilityRecommendationCard",
    "file_line": "src/components/readability/ReadabilityRecommendationCard.jsx:76",
    "description": "Component uses Tailwind default gray-* palette for light mode borders and backgrounds instead of the application's custom charcoal-* palette used by other readability components.",
    "steps": "1. Navigate to the Readability tool results page\n2. Compare border and background colors of ReadabilityRecommendationCard with adjacent components",
    "expected": "All readability components should use the same charcoal-* custom palette for consistent visual appearance.",
    "actual": "Uses border-gray-200 (line 76), text-gray-900 (line 89), text-gray-600 (line 102), border-gray-100 (line 145), hover:bg-gray-50 (line 150) while sibling components use charcoal-* equivalents.",
    "impact": "Subtle color temperature mismatch between recommendation cards and surrounding UI creates visual inconsistency."
  },
  {
    "bug_id": "R02-103",
    "severity": "medium",
    "category": "Color Inconsistency",
    "component": "ReadabilityRecommendationCard",
    "file_line": "src/components/readability/ReadabilityRecommendationCard.jsx:150",
    "description": "References a non-existent Tailwind class 'charcoal-750' in dark mode hover state, which will be silently ignored by Tailwind.",
    "steps": "1. Enable dark mode\n2. Navigate to readability results with recommendations\n3. Hover over a recommendation card's action link\n4. Inspect the element in dev tools",
    "expected": "Hover state should apply a visible background color change using a defined charcoal-* shade (e.g., charcoal-700 or charcoal-800).",
    "actual": "The class dark:hover:bg-charcoal-750 references a shade (750) not in the standard charcoal palette. Tailwind silently ignores undefined classes, so no hover background appears in dark mode.",
    "impact": "Interactive elements lose their hover feedback in dark mode, reducing perceived interactivity and discoverability."
  },
  {
    "bug_id": "R02-104",
    "severity": "medium",
    "category": "Z-Index Conflict",
    "component": "ReadabilityPDFPreview",
    "file_line": "src/components/readability/ReadabilityPDFPreview.jsx:153",
    "description": "PDF preview modal backdrop and modal container both use z-50, creating a same-level stacking conflict.",
    "steps": "1. Run a readability analysis\n2. Click 'Preview PDF' to open the PDF preview modal\n3. Inspect z-index values on the backdrop overlay and modal container",
    "expected": "Modal container should have a higher z-index than its backdrop (e.g., backdrop z-40, modal z-50) to ensure proper stacking context.",
    "actual": "Both backdrop (line 153) and modal (line 165) use z-50. While DOM order may make this work in most browsers, it relies on implicit ordering rather than explicit stacking, and can break if other z-50 elements are present.",
    "impact": "Potential for click-through issues where the backdrop intercepts clicks intended for the modal, especially on mobile browsers."
  },
  {
    "bug_id": "R02-105",
    "severity": "medium",
    "category": "Dark Mode Bug",
    "component": "ReportBuilderPage",
    "file_line": "src/components/reports/ReportBuilderPage.jsx:743",
    "description": "Report canvas grid background uses hardcoded rgba(0,0,0,0.03) which becomes invisible against dark backgrounds.",
    "steps": "1. Enable dark mode\n2. Navigate to the Report Builder page\n3. Observe the grid/dot pattern on the canvas area",
    "expected": "Grid pattern should use a lighter rgba value in dark mode (e.g., rgba(255,255,255,0.05)) to remain visible against dark backgrounds.",
    "actual": "Hardcoded inline style backgroundImage uses rgba(0,0,0,0.03) which has near-zero contrast against dark mode backgrounds, making the grid invisible.",
    "impact": "Grid alignment aid disappears in dark mode, making widget placement less precise for dark mode users."
  },
  {
    "bug_id": "R02-106",
    "severity": "low",
    "category": "Z-Index Conflict",
    "component": "ReportBuilderPage",
    "file_line": "src/components/reports/ReportBuilderPage.jsx:677",
    "description": "Export format dropdown uses z-10 which is lower than many other positioned elements in the application (Navigation z-40, modals z-50, BulkActionsBar z-50).",
    "steps": "1. Navigate to Report Builder\n2. Have a report with widgets near the top of the canvas\n3. Click the Export dropdown button\n4. Observe if the dropdown appears above or behind other elements",
    "expected": "Export dropdown should use z-20 or higher to reliably appear above canvas widgets and other positioned content.",
    "actual": "Dropdown uses z-10 (line 677) which can be occluded by positioned widget elements or sticky headers.",
    "impact": "Export dropdown may be partially hidden behind other elements, making format selection difficult."
  },
  {
    "bug_id": "R02-107",
    "severity": "medium",
    "category": "Dark Mode Bug",
    "component": "ReadabilityWeightConfig",
    "file_line": "src/components/readability/ReadabilityWeightConfig.jsx:84",
    "description": "Validation status text for weight total uses text-emerald-600 and text-red-600 with no dark: variants, causing poor contrast on dark backgrounds.",
    "steps": "1. Enable dark mode\n2. Open the weight configuration panel\n3. Adjust sliders so total does not equal 100%\n4. Observe the validation message color",
    "expected": "Validation colors should include dark mode variants (e.g., dark:text-emerald-400, dark:text-red-400) for adequate contrast.",
    "actual": "Both valid (text-emerald-600) and invalid (text-red-600) states use -600 shades which have insufficient contrast against charcoal-800/900 dark backgrounds.",
    "impact": "Users may not notice validation errors in dark mode, leading to confusion when the Apply button is disabled."
  },
  {
    "bug_id": "R02-108",
    "severity": "low",
    "category": "Color Inconsistency",
    "component": "EmptyState",
    "file_line": "src/components/shared/EmptyState.jsx:26",
    "description": "EmptyState component mixes gray-* and charcoal-* color palettes, using gray-50 for light mode background alongside charcoal-800 for dark mode.",
    "steps": "1. View any empty state in the application (e.g., empty readability history)\n2. Compare the background shade with adjacent panel backgrounds",
    "expected": "Light mode background should use the application's charcoal-50 shade for consistency with other surface colors.",
    "actual": "Uses bg-gray-50 (line 26), border-gray-200 (line 26), text-gray-300 (line 28), text-gray-500/400 (lines 34, 39) — mixing gray-* with charcoal-* dark variants.",
    "impact": "Slight color temperature difference between empty states and surrounding UI panels, breaking visual consistency."
  },
  {
    "bug_id": "R02-109",
    "severity": "low",
    "category": "Visual Hierarchy",
    "component": "EmptyState",
    "file_line": "src/components/shared/EmptyState.jsx:28",
    "description": "Empty state icon uses text-gray-300 in light mode and text-gray-600 in dark mode, both of which are very low contrast and may be difficult to perceive.",
    "steps": "1. View any empty state with the default icon\n2. Check the icon visibility against the background",
    "expected": "Icon should use text-gray-400 (light) and text-gray-500 (dark) for slightly better visibility while still being decorative.",
    "actual": "Icon uses text-gray-300 dark:text-gray-600, which at 10x10 size creates very faint visual elements (approximately 1.5:1 contrast ratio against gray-50 background).",
    "impact": "Decorative icon is barely visible, reducing the visual cue that helps users understand the empty state purpose."
  },
  {
    "bug_id": "R02-110",
    "severity": "high",
    "category": "Dark Mode Bug",
    "component": "SchemaGeneratorPage",
    "file_line": "src/components/schema-generator/SchemaGeneratorPage.jsx:118",
    "description": "The error view in SchemaGeneratorPage uses a hardcoded dark gradient background (from-slate-900 via-slate-800 to-slate-900) with a white card (bg-white), completely ignoring the application's theme system.",
    "steps": "1. Navigate to the Schema Generator tool\n2. Submit invalid HTML or trigger an error condition\n3. Observe the error view rendering",
    "expected": "Error view should use the application's standard background (bg-charcoal-50 dark:bg-charcoal-900) and error card should support dark mode (bg-white dark:bg-charcoal-800).",
    "actual": "Error view uses from-slate-900 via-slate-800 to-slate-900 gradient (line 118) and bg-white card (line 119) regardless of theme setting. Uses slate-* instead of the app's charcoal-* palette. Text uses text-charcoal-900 and text-charcoal-600 (lines 125-126) against a white background, which are correct for light mode but the outer dark gradient creates an inconsistent mixed appearance.",
    "impact": "Error state looks completely different from the rest of the application. The slate-900 gradient background is always dark regardless of user's theme preference, creating a jarring visual transition."
  },
  {
    "bug_id": "R02-111",
    "severity": "high",
    "category": "Dark Mode Bug",
    "component": "DueDatesWidget",
    "file_line": "src/components/shared/DueDatesWidget.jsx:216",
    "description": "DueDatesWidget and its child components (DueDateItem, AddDueDateModal) completely lack dark mode support. All backgrounds, borders, text colors, and urgency color maps use light-only values.",
    "steps": "1. Enable dark mode\n2. Navigate to the dashboard where DueDatesWidget is displayed\n3. Observe the widget background and due date items",
    "expected": "Widget should use dark:bg-charcoal-800 background, dark:border-charcoal-700 borders, and urgency colors should have dark mode equivalents.",
    "actual": "Widget uses bg-white (line 216), border-charcoal-100 (line 216). DueDateItem urgencyColors map (lines 21-27) only defines light mode colors (bg-red-50, bg-amber-50, etc.) with no dark: variants. AddDueDateModal (line 127) uses bg-white with no dark alternative. Priority buttons (lines 164-169) only use light mode colors.",
    "impact": "Entire due dates section renders as bright white cards in dark mode. Urgency color coding, which is a core feature of the widget, has no dark mode adaptation."
  },
  {
    "bug_id": "R02-112",
    "severity": "high",
    "category": "Dark Mode Bug",
    "component": "FavoritesAndRecents",
    "file_line": "src/components/shared/FavoritesAndRecents.jsx:110",
    "description": "FavoritesAndRecentsWidget and all sub-components (RecentItems, FavoriteItems, FavoriteButton) lack dark mode support entirely. All surface colors, borders, and text colors are light-only.",
    "steps": "1. Enable dark mode\n2. Navigate to the dashboard where FavoritesAndRecents widget is shown\n3. Observe backgrounds and text colors",
    "expected": "Widget containers should use dark:bg-charcoal-800, item cards should use dark:bg-charcoal-700, and text should use dark:text-charcoal-100 for headings.",
    "actual": "Widget uses bg-white (lines 110, 168, 236, 253, 268), border-charcoal-100 (lines 110, 168, 268), text-charcoal-900 (lines 116, 175). Gradient colors (line 112: from-primary-100 to-primary-50) have no dark: variants. FavoriteButton hover uses hover:bg-amber-50 (line 218) with no dark alternative.",
    "impact": "Quick access hub is a primary dashboard component. Bright white cards with light-colored gradients create poor contrast and visual discontinuity in dark mode."
  },
  {
    "bug_id": "R02-113",
    "severity": "high",
    "category": "Dark Mode Bug",
    "component": "LinkToProjectModal",
    "file_line": "src/components/shared/LinkToProjectModal.jsx:69",
    "description": "LinkToProjectModal dialog container and all inner elements lack dark mode support. Only the outer backdrop has a charcoal-900/60 tint.",
    "steps": "1. Enable dark mode\n2. Open any tool result and click 'Link to Project'\n3. Observe the modal appearance",
    "expected": "Modal body should use dark:bg-charcoal-800, search input should have dark:bg-charcoal-700, project items should use dark:bg-charcoal-700 backgrounds, and footer should use dark:bg-charcoal-800.",
    "actual": "Modal uses bg-white (line 69), search border-charcoal-200 (line 103), project items bg-white border-charcoal-100 (line 155), footer bg-charcoal-50 (line 196), empty state text-charcoal-600/400 (lines 121-122). No dark: prefixes on any of these elements.",
    "impact": "A bright white modal with light backgrounds for project items appears in dark mode, breaking the visual continuity of the dark theme."
  },
  {
    "bug_id": "R02-114",
    "severity": "medium",
    "category": "Dark Mode Bug",
    "component": "AIDisclaimer",
    "file_line": "src/components/shared/AIDisclaimer.jsx:42",
    "description": "AIDisclaimer component (both full and compact variants) uses amber-50/amber-200/amber-700 colors with no dark mode variants, creating poor visibility in dark mode.",
    "steps": "1. Enable dark mode\n2. Navigate to any AI-powered tool page (Meta Generator, Alt Text Generator)\n3. Observe the AI disclaimer banner",
    "expected": "Banner should use dark:bg-amber-900/20, dark:border-amber-700, dark:text-amber-300 for proper dark mode contrast.",
    "actual": "Full banner uses bg-amber-50 (line 55), border-amber-200 (line 55), bg-amber-100 (line 58), text-amber-800/700/600 (lines 64, 67, 74) all without dark: variants. Compact variant similarly uses bg-amber-50 border-amber-200 (line 42) with no dark: support.",
    "impact": "AI disclaimers appear as light amber banners on dark backgrounds, creating visual discord and reducing readability of important safety information."
  },
  {
    "bug_id": "R02-115",
    "severity": "medium",
    "category": "Dark Mode Bug",
    "component": "AIExportConfirmation",
    "file_line": "src/components/shared/AIExportConfirmation.jsx:81",
    "description": "AIExportConfirmation modal uses bg-white with no dark: variant on the dialog container, plus several inner elements lack dark mode support.",
    "steps": "1. Enable dark mode\n2. Trigger an export action on any AI-generated content\n3. Observe the confirmation modal",
    "expected": "Modal should use dark:bg-charcoal-800, acknowledgment items should use dark:border-charcoal-600 dark:hover:bg-charcoal-700, footer should use dark:bg-charcoal-700.",
    "actual": "Modal body uses bg-white (line 81), header bg-amber-50 (line 87), acknowledgment buttons border-charcoal-200 hover:bg-charcoal-50 (line 129), footer bg-charcoal-50 (line 184), disabled button bg-charcoal-200 text-charcoal-400 (line 198) — all without dark: variants.",
    "impact": "Export confirmation is a critical workflow step. A bright white modal in dark mode is visually jarring and may cause users to dismiss the important acknowledgments."
  },
  {
    "bug_id": "R02-116",
    "severity": "medium",
    "category": "Dark Mode Bug",
    "component": "InteractiveTutorial",
    "file_line": "src/components/tutorials/InteractiveTutorial.jsx:316",
    "description": "InteractiveTutorial component and TutorialStep sub-component lack dark mode support. All backgrounds use light-only colors including bg-white, bg-charcoal-50, bg-emerald-50, bg-primary-50, bg-amber-50.",
    "steps": "1. Enable dark mode\n2. Start an interactive tutorial from any tool page\n3. Observe the tutorial sidebar panel",
    "expected": "Tutorial panel should use dark:bg-charcoal-800, step cards should use dark:bg-charcoal-700, tip boxes should use dark:bg-amber-900/20.",
    "actual": "Main panel uses bg-white (line 316), tutorial steps use bg-charcoal-50 (line 197), bg-emerald-50 (line 196), bg-primary-50 (line 194). Tip section uses bg-amber-50 (line 350) with text-amber-800/600 (lines 351-352). TutorialCard uses bg-white (line 232). No dark: variants on any element.",
    "impact": "Tutorial panel appears as a bright white sidebar in dark mode, covering part of the tool interface with a visually inconsistent element."
  },
  {
    "bug_id": "R02-117",
    "severity": "medium",
    "category": "Color Inconsistency",
    "component": "ScheduledReportsPanel",
    "file_line": "src/components/reports/ScheduledReportsPanel.jsx:402",
    "description": "ScheduledReportsPanel uses dynamic Tailwind class construction (template literals for bg-${color}-100, text-${color}-600, etc.) which will fail with Tailwind's JIT compiler since the full class names are never present in source for scanning.",
    "steps": "1. Navigate to the Reports page and open Scheduled Reports\n2. Create or view a scheduled report\n3. Inspect the icon container and text styling for report type colors",
    "expected": "Report type icons and labels should display the correct color for each type (cyan for Technical Audit, purple for Accessibility, etc.).",
    "actual": "Dynamic classes like bg-${reportType?.color}-100 (line 402), text-${reportType?.color}-600 (line 403) are constructed at runtime. Tailwind's JIT compiler cannot detect these class names, so they are not included in the generated CSS. The elements will have no background or text color applied.",
    "impact": "All scheduled report type icons render without their intended color coding, making it impossible to visually distinguish between different report types at a glance."
  },
  {
    "bug_id": "R02-118",
    "severity": "medium",
    "category": "Dark Mode Bug",
    "component": "UserSettingsPage",
    "file_line": "src/components/settings/UserSettingsPage.jsx:295",
    "description": "UserSettingsPage lacks dark mode support across the entire page. The page background, sidebar, content panel, form fields, and all section-specific UI elements use light-only colors.",
    "steps": "1. Enable dark mode\n2. Navigate to Settings page\n3. Observe the overall page appearance and interact with different sections",
    "expected": "Page should use dark:bg-charcoal-900, sidebar should use dark:bg-charcoal-800, content panel should use dark:bg-charcoal-800, form backgrounds should use dark:bg-charcoal-700.",
    "actual": "Page uses bg-gradient-to-b from-charcoal-50 to-white (line 295), sidebar bg-white (line 313), content panel bg-white (line 358), section backgrounds bg-charcoal-50 (lines 539, 571, 589), primary-50 active states (line 322). Avatar area, password fields, danger zone — all without dark: variants.",
    "impact": "Settings page is entirely light-themed, creating a full-page white flash when navigating from other dark-mode-aware pages."
  }
]
